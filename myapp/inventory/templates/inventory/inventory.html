{% extends "layouts.html" %}
{% block content %}

<div class="search-table mx-4 ">
  {% for mess in get_flashed_messages()  %}
      <div class="alert alert-warning alert-dismissible fade show" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close" class="fade close">
          <span aria-hidden="true">&times;</span>
        </button>
        {{mess}}
        </div>
      {% endfor %}
{% if message  %}
      <div class="alert alert-warning alert-dismissible fade show" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close" class="fade close">
          <span aria-hidden="true">&times;</span>
        </button>
        {{message}}
        </div>
      {% endif %}

      <button class="btn btn-secondary" style=" background-color:#1B62D3;" type="button">
        <i class="fa fa-search"></i>
      </button>

<a href="{{ url_for('inventory.addproduct') }}" type="button" class="btn btn-primary btn-ls mr-5 text-right" >Add New Product</a>

</div>

<br>
    <table class="table table-bordered table-striped table-hover">
      <thead>
        <tr>
          <th scope="col">Product Id</th>
           <th scope="col">Product Name</th>
           <th scope="col">Price</th>
           <th scope="col">Quantity</th>
          <th scope="col">Action</th>

        </tr>
      </thead>

  <tbody>
   {% for product in view_products%}
                        <tr>
                          <td>{{ product.id }}</td>
                          <td>{{ product.item_name }}</td>
                          <td>{{ product.item_price }}</td>
                          <td>{{ product.item_qty}}</td>
                          <td>
                            <a href="/inventory/updateproduct/{{product.id}}"><button class="btn btn-warning btn-sm">Update</button></a>
                            <a href="/inventory/deleteproduct/{{product.id}}"><button class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this Product')">Delete</button></a>
                          </td>

                      </tr>
                      {% else %}

                    <div class="alert alert-warning alert-dismissible fade show" role="alert">
                         <button type="button" class="close" data-dismiss="alert" aria-label="Close" class="fade close">
                             <span aria-hidden="true">&times;</span>
                         </button>
                        Nothing to Show here!!! To add new products<a href="{{ url_for('inventory.addproduct') }}" class="btn stretched-link">Click here</a>
                    </div>

                      {% endfor %}

  </tbody>
</table>

{% endblock %}